import{_ as i,c as a,a as n,o as h}from"./app-BO2U5m27.js";const t={};function l(k,s){return h(),a("div",null,[...s[0]||(s[0]=[n(`<p>学习目标</p><ul><li>了解框架的概念和优点</li><li>了解 MyBatis 框架的概念和优点</li><li>掌握 MyBatis 环境搭建</li><li>掌握 MyBatis 入门程序的编写</li><li>熟悉 MyBatis 工作原理</li></ul><p>随着业务发展，软件系统变得越来越复杂。如果所有功能都从零开始开发，会非常耗时且繁琐。此外，缺乏统一的调用规范会导致代码重复，增加二次开发和维护的难度。为解决这些问题，框架应运而生。框架提供了许多基础功能，使开发人员可以专注于业务逻辑，从而提高效率。目前，JavaEE 开发中常用的框架有 Spring、Spring MVC 和 MyBatis 等。</p><h2 id="_1-1-初识框架" tabindex="-1"><a class="header-anchor" href="#_1-1-初识框架"><span>1.1 初识框架</span></a></h2><p>在学习框架之前，先要理解框架的概念及其优势。本节将介绍框架的基本概念、优点以及当前流行的几种框架。</p><h3 id="_1-1-1-框架概述" tabindex="-1"><a class="header-anchor" href="#_1-1-1-框架概述"><span>1.1.1 框架概述</span></a></h3><p>“框架”一词最初用于建筑领域，指的是房屋的结构骨架。在编程中，框架则是应用程序的基础结构，开发者可以在其基础上添加自己的代码来构建所需的应用系统。</p><p>软件框架是一个可复用的开发环境，它提供特定功能以支持软件应用、产品和解决方案的创建。它包括了程序库、编译器、工具集和 API 等组件，这些共同作用于促进项目的开发过程。</p><p>可以把软件框架比作是盖楼时使用的梁、柱子和承重墙组成的钢筋混凝土结构，它是支撑整个建筑物的关键部分。同样地，在这个框架内实现的各种软件功能，就好比是在一栋大楼里设置的不同用途的空间，比如健身房、商店或是酒店等。</p><p>一个好的框架对于无论是建筑设计还是软件开发都至关重要，因为它不仅能帮助节省成本，还能确保质量并在有限资源下最大化效率。简而言之，框架的作用在于设立标准、保证质量、控制成本，从而让开发者能够更高效地完成高质量的工作。</p><h3 id="_1-1-2-框架的优势" tabindex="-1"><a class="header-anchor" href="#_1-1-2-框架的优势"><span>1.1.2 框架的优势</span></a></h3><p>早期 JavaEE 应用开发中，企业开发人员主要使用 JSP + Servlet 技术。但这种方式存在两大问题：一是系统维护困难，因为分层不清晰导致业务逻辑难以独立分离；二是代码重用率低，每次新项目都需要从头开始编写大量代码，增加了出错风险。为解决这些问题，开发者推出了多种框架，它们相比 JSP + Servlet 有以下优点：</p><ol><li><strong>提高开发效率</strong>：成熟的框架能够处理事务、安全性和数据流控制等基础任务，让程序员专注于业务逻辑的实现。</li><li><strong>增强代码规范性与可维护性</strong>：框架通常遵循严格的编码标准，有助于保持团队内的一致性，使得多人协作更加顺畅。</li><li><strong>提升软件性能</strong>：利用框架（如 Spring 或 MyBatis）可以减少冗余代码，例如通过 Spring 的 IoC 特性简化对象间的依赖管理，或者借助 MyBatis 轻松配置动态 SQL 语句。</li></ol><h3 id="_1-1-3-当前主流框架" tabindex="-1"><a class="header-anchor" href="#_1-1-3-当前主流框架"><span>1.1.3 当前主流框架</span></a></h3><p>在 JavaEE 开发中离不开框架，使用框架可以减少代码冗余，提高程序运行速度，规范编程且便于代码维护。下面介绍几种当前 Java EE 开发中常见的框架。</p><ol><li><strong>Spring 框架</strong>：Spring 是一个开源框架，旨在简化企业级应用开发。它采用分层架构，支持将不同的单层框架（如 Struts、Hibernate）整合成一个连贯的体系，为 POJO 提供企业级服务。</li><li><strong>Spring MVC 框架</strong>：Spring MVC 是 Spring 提供的一个基于 MVC 设计模式的 Web 开发模块，用作控制器来处理模型与视图间的数据交互。它具有良好的可配置性、扩展性和灵活性，并且能与 Spring 无缝集成，在 Web 开发中广泛应用。</li><li><strong>MyBatis 框架</strong>：MyBatis 是一个优秀的持久层框架，源自于 Apache 的 iBatis 项目，后迁至 GitHub。它允许开发者手动映射实体类和 SQL 语句，实现半自动化的 ORM 功能。由于其高性能和易学性，在互联网应用中被广泛采用。</li><li><strong>Spring Boot 框架</strong>：Spring Boot 由 Pivotal 团队开发，旨在简化 Spring 应用程序的设置过程，使用户能够快速构建独立运行的应用程序。它集成了多种第三方库，减少了配置需求，提高了开发效率。</li><li><strong>Spring Cloud 框架</strong>：Spring Cloud 是一系列用于构建微服务架构的工具集合，利用了 Spring Boot 的便捷性来简化分布式系统的开发工作。它提供了包括配置管理、服务发现等功能的一站式解决方案，特点是易于理解和维护。</li></ol><h2 id="_1-2-mybatis-介绍" tabindex="-1"><a class="header-anchor" href="#_1-2-mybatis-介绍"><span>1.2 MyBatis 介绍</span></a></h2><p>Java 程序通过 Java 数据库连接（JDBC）来操作数据库，但在大型企业项目中，由于频繁的数据库交互和大量的数据读写，仅使用 JDBC 难以达到性能需求。此外，JDBC 还存在代码冗余、复用性差等问题。因此，在企业级开发中，通常采用如 MyBatis 这样的 ORM 框架来操作数据库。接下来将详细介绍 MyBatis 的基础知识。</p><h3 id="_1-2-1-传统-jdbc-的劣势" tabindex="-1"><a class="header-anchor" href="#_1-2-1-传统-jdbc-的劣势"><span>1.2.1 传统 JDBC 的劣势</span></a></h3><p>JDBC 是 Java 应用程序访问数据库的基础，提供了一套标准 API 用于执行数据库操作。尽管如此，JDBC 存在以下局限性：</p><ol><li><strong>资源管理效率低</strong>：频繁创建和销毁连接消耗大量资源。</li><li><strong>代码维护困难</strong>：SQL 语句硬编码于 Java 代码中，使得修改业务逻辑或数据模型时需手动调整源码。</li><li><strong>参数传递及 SQL 构造不灵活</strong>：即使使用 PreparedStatement，根据条件动态构建 SQL 仍需硬编码，增加复杂度。</li><li><strong>结果集处理僵化</strong>：依赖固定列名映射规则处理结果集，表结构调整后需相应变更解析逻辑。</li></ol><p>为解决这些问题，推荐使用 ORM 框架如 MyBatis 或 Hibernate 来简化数据库层设计与实现。考虑到易用性和学习成本，本教材将重点介绍 MyBatis。</p><h3 id="_1-2-2-mybatis-概述" tabindex="-1"><a class="header-anchor" href="#_1-2-2-mybatis-概述"><span>1.2.2 MyBatis 概述</span></a></h3><p>MyBatis 是一个强大的持久层框架，支持 SQL 查询和高级映射，极大简化了 JDBC 代码的编写。它提供 XML 配置和注解两种方式来实现 Java 对象与数据库表之间的自动映射，使开发者能以面向对象的方式操作数据库，提高开发效率并减少错误。</p><p>作为 ORM 框架，MyBatis 解决了对象与关系型数据库类型不匹配的问题。通过定义映射规则，当对象变化时，数据库也会自动同步更新，反之亦然。这简化了数据库操作逻辑，让开发者更专注于业务逻辑。例如，使用 MyBatis 更新用户信息只需更改 User 对象属性值并调用相应方法即可，无需编写复杂的 SQL 语句。</p><p>总之，MyBatis 不仅简化了数据库交互过程，还提供了高效的数据管理方式，是快速构建高质量 Web 应用或企业级系统的理想选择。其灵活性和易用性使其成为许多项目的首选数据持久化方案。</p><p><strong>图1-1 ORM 框架的工作原理</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/2447732/1766045281064-41b0271c-caea-486d-a6ff-6350af127939.png" alt=""></p><p>从图1-1可以看出，使用 ORM 框架后，应用程序不再直接访问底层数据库，而是以面向对象的方式来操作持久化对象（Persistent Object，PO）。ORM 框架会通过映射关系将这些面向对象的操作转换成底层的 SQL 操作。</p><p>MyBatis 作为一个优秀的持久层框架，它对 JDBC 操作数据库的过程进行了封装，使开发者只需要关注 SQL 本身，而不需要花费精力去处理注册驱动、创建 Connection 对象、创建 Statement 对象、手动设置参数、结果集检索等 JDBC 繁杂的过程代码。</p><p>针对 1.2.1 节提到的 JDBC 编程的劣势，MyBatis 提供了以下解决方案，具体如下：</p><p><strong>问题一</strong>：频繁地创建、释放数据库连接会造成系统资源浪费，从而影响系统性能。<br><strong>解决方案</strong>：在 <code>SqlMapConfig.xml</code> 中配置数据连接池，使用数据库连接池管理数据库连接。</p><p><strong>问题二</strong>：代码中的 SQL 语句硬编码，会造成代码不易于维护。在实际应用的开发中，SQL 变化的可能性较大。在传统 JDBC 编程中，SQL 变动需要更改 Java 代码，违反了开闭原则。<br><strong>解决方案</strong>：MyBatis 将 SQL 语句配置在 MyBatis 的映射文件中，实现了与 Java 代码的分离。</p><p><strong>问题三</strong>：使用 PreparedStatement 向占位符传参数存在硬编码，因为 SQL 语句的 where 条件不确定，如果有修改 SQL 的需求，必须要修改代码，这样会导致系统难以维护。<br><strong>解决方案</strong>：MyBatis 自动将 Java 对象映射至 SQL 语句，通过 Statement 中的 parameterType 定义输入参数的类型。</p><p><strong>问题四</strong>：JDBC 对结果集解析存在硬编码（查询列名），SQL 变化导致解析代码变化，使得系统不易于维护。<br><strong>解决方案</strong>：MyBatis 自动将 SQL 执行结果映射至 Java 对象，通过 Statement 中的 resultType 定义输出结果的类型。</p><h2 id="_1-3-mybatis-环境搭建" tabindex="-1"><a class="header-anchor" href="#_1-3-mybatis-环境搭建"><span>1.3 MyBatis 环境搭建</span></a></h2><p>使用 MyBatis 框架进行数据库开发前，需要先搭建 MyBatis 环境。MyBatis 环境搭建的基本步骤包括创建工程、引入相关依赖、创建数据库、创建数据库连接信息配置文件、创建 MyBatis 的核心配置文件。本书采用 MyBatis 3.5.2 版本搭建 MyBatis 环境，具体步骤如下。</p><h3 id="_1-创建工程" tabindex="-1"><a class="header-anchor" href="#_1-创建工程"><span>1. 创建工程</span></a></h3><p>启动 IntelliJ IDEA 开发工具，创建 maven 项目</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/2447732/1766038799970-6af5cce8-a150-47da-96d7-c9475813faa2.png" alt=""></p><p><strong>父工程：</strong></p><div class="language-xml has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="xml" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> xmlns</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">http://maven.apache.org/POM/4.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> xmlns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;">xsi</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">http://www.w3.org/2001/XMLSchema-instance</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;">  xsi</span><span style="--shiki-light:#6F42C1;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;">schemaLocation</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">modelVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">4.0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">modelVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">io.weew12.github</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">heima_ssm_book</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">1.0-SNAPSHOT</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">modules</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">ch1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">modules</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">packaging</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">pom</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">packaging</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">heima_ssm_book</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">http://maven.apache.org</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project.build.sourceEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">UTF-8</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project.build.sourceEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span></code></pre><div class="collapsed-lines"></div></div><p><strong>ch1 本章节内容工程：</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/2447732/1766038880594-c02e0a9e-aeac-4faa-a501-b1a3adaf8efb.png" alt=""></p><div class="language-xml has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="xml" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> xmlns</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">http://maven.apache.org/POM/4.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> xmlns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;">xsi</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">http://www.w3.org/2001/XMLSchema-instance</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;">         xsi</span><span style="--shiki-light:#6F42C1;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;">schemaLocation</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">heima_ssm_book</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">io.weew12.github</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">1.0-SNAPSHOT</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">modelVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">4.0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">modelVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">ch1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">packaging</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">jar</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">packaging</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">ch1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">http://maven.apache.org</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project.build.sourceEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">UTF-8</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project.build.sourceEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">junit</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">junit</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">4.13.2</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span></code></pre><div class="collapsed-lines"></div></div><h3 id="_2-引入相关依赖" tabindex="-1"><a class="header-anchor" href="#_2-引入相关依赖"><span>2. 引入相关依赖</span></a></h3><p>在以往 Java 项目的开发中，需要在项目中引入许多 JAR 包以便于调用 JAR 包中封装好的常用类集。但由于 JAR 包占用的内存空间较大，给项目的打包和发布带来了极大的不便，基于以上原因，Apache 公司开发了项目管理工具 Maven。Maven 使用 Maven 仓库管理 JAR 包，使用 Maven 管理项目不需要再引入一个个的 JAR 包，只需将 JAR 包的依赖引入项目的 pom.xml 文件中就可以调用 JAR 包中的类，极大提高了开发人员的编程效率。</p><p>由于本项目要连接数据库并对程序进行测试，所以需要在项目的 pom.xml 文件中引入:</p><ul><li>MySQL 驱动包</li><li>JUnit 测试包</li><li>MyBatis 的核心包等相关依赖</li></ul><p>具体代码如下：</p><div class="language-xml has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="xml" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> xmlns</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">http://maven.apache.org/POM/4.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> xmlns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;">xsi</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">http://www.w3.org/2001/XMLSchema-instance</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;">         xsi</span><span style="--shiki-light:#6F42C1;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;">schemaLocation</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">heima_ssm_book</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">io.weew12.github</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">1.0-SNAPSHOT</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">modelVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">4.0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">modelVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">ch1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">packaging</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">jar</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">packaging</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">ch1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">http://maven.apache.org</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project.build.sourceEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">UTF-8</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project.build.sourceEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">properties</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">        &lt;!--        MyBatis 的核心包--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">org.mybatis</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">mybatis</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">3.5.3</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">        &lt;!--        MySQL 驱动包--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">mysql</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">mysql-connector-java</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">8.0.33</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">        &lt;!--        JUnit 测试包--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">junit</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">junit</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">4.13.2</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span></code></pre><div class="collapsed-lines"></div></div><h3 id="_3-创建数据库" tabindex="-1"><a class="header-anchor" href="#_3-创建数据库"><span>3. 创建数据库</span></a></h3><p>在 MySQL 中创建一个名称为 <code>mybatis</code> 的数据库，具体 SQL 语句如下：</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> DATABASE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> heima_ssm_book</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">;</span></span></code></pre></div><p><img src="https://cdn.nlark.com/yuque/0/2025/png/2447732/1766039408644-9dd8575d-3497-4b11-b712-72e38552824f.png" alt=""></p><h3 id="_4-创建数据库连接信息配置文件" tabindex="-1"><a class="header-anchor" href="#_4-创建数据库连接信息配置文件"><span>4. 创建数据库连接信息配置文件</span></a></h3><p>在项目的 <code>src/main/resources</code> 目录下创建数据库连接的配置文件，这里将其命名为 <code>db.properties</code>，在该文件中配置数据库连接的参数。<code>db.properties</code> 文件的具体内容如文件1-1所示。</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/2447732/1766039548197-2ce0026b-d302-4fd0-b29c-3b2741946fd0.png" alt=""></p><p><strong>文件1-1 db.properties</strong></p><div class="language-properties" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-properties"><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F07178;">mysql.driver</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F07178;">mysql.url</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">jdbc:mysql://localhost:3306/heima_ssm_book?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F07178;">serverTimezone</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">UTC&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F07178;">characterEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">utf8&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F07178;">useUnicode</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">true&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F07178;">useSSL</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">false</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F07178;">mysql.username</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">root</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F07178;">mysql.password</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">123456</span></span></code></pre></div><h3 id="_5-创建-mybatis-的核心配置文件" tabindex="-1"><a class="header-anchor" href="#_5-创建-mybatis-的核心配置文件"><span>5. 创建 MyBatis 的核心配置文件</span></a></h3><p>在项目的 <code>src/main/resources</code> 目录下创建 MyBatis 的核心配置文件，该文件主要用于项目的环境配置，如数据库连接相关配置等。核心配置文件可以随意命名，但通常将其命名为 <code>mybatis-config.xml</code>。如无特殊说明，本书中的 MyBatis 核心配置文件均命名为 <code>mybatis-config.xml</code>。<code>mybatis-config.xml</code> 的具体实现如文件1-2所示。</p><p>配置文件参考：<a href="https://mybatis.org/mybatis-3/configuration.html" target="_blank" rel="noopener noreferrer">https://mybatis.org/mybatis-3/configuration.html</a></p><p>dfd 参考：<a href="https://github.com/mybatis/mybatis-3/tree/master/src/main/resources/org/apache/ibatis/builder/xml" target="_blank" rel="noopener noreferrer">https://github.com/mybatis/mybatis-3/tree/master/src/main/resources/org/apache/ibatis/builder/xml</a></p><p><strong>文件1-2 mybatis-config.xml</strong></p><div class="language-xml has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="xml" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">UTF-8</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">DOCTYPE</span><span style="--shiki-light:#005CC5;--shiki-dark:#BABED8;"> configuration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &quot;https://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    &lt;!--    加载类路径下的属性文件--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">properties</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> resource</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">db.properties</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    &lt;!--    环境配置--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">environments</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">development</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">environment</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">development</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">            &lt;!--            事务管理器--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">transactionManager</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">JDBC</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">            &lt;!--            数据源配置--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dataSource</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">POOLED</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">                &lt;!--                数据库连接相关配置 使用db.properties中的内容--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">driver</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">\${mysql.driver}</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">url</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">\${mysql.url}</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">username</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">\${mysql.username}</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">password</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">\${mysql.password}</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dataSource</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">environment</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">environments</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span></code></pre><div class="collapsed-lines"></div></div><h2 id="_1-4-mybatis-入门程序" tabindex="-1"><a class="header-anchor" href="#_1-4-mybatis-入门程序"><span>1.4 MyBatis 入门程序</span></a></h2><p>1.3 节完成了 MyBatis 环境的搭建，下面将在 MyBatis 环境下实现一个入门程序来演示 MyBatis 框架的使用（如果不做特别说明，后续编码都将在 1.3 节搭建的 MyBatis 环境下进行），该程序要求实现根据 id 查询用户信息的操作，具体实现步骤如下。</p><h3 id="_1-数据准备" tabindex="-1"><a class="header-anchor" href="#_1-数据准备"><span>1. 数据准备</span></a></h3><p>在 <code>mybatis</code> 数据库中创建 <code>users</code> 表，并在 <code>users</code> 表中插入两条数据，具体 SQL 语句如下：</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-sql"><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> heima_ssm_book;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> table</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> ch1_users</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">    uid</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">   int</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> primary key</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> auto_increment,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">    uname </span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">varchar</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">not null</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">    uage  </span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">         not null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">insert into</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> ch1_users(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">uid</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">, uname, uage)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">weew12</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">       (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">weew13</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">28</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">);</span></span></code></pre></div><h3 id="_2-创建-pojo-实体" tabindex="-1"><a class="header-anchor" href="#_2-创建-pojo-实体"><span>2. 创建 POJO 实体</span></a></h3><p>在项目的 <code>src/main/java</code> 目录下创建 <code>User</code> 类，该类用于封装 User 对象的属性，如文件1-3所示。</p><p><strong>文件1-3 User.java</strong></p><div class="language-java has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="java" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> io</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">weew12</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">github</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">pojo</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    // 用户id</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> uid</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    // 用户姓名</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> uname</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    // 用户年龄</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> uage</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> getUid</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">()</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> uid</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> setUid</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#BABED8;--shiki-dark-font-style:italic;"> uid</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#89DDFF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">uid </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> uid</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> getUname</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">()</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> uname</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> setUname</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">String</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#BABED8;--shiki-dark-font-style:italic;"> uname</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#89DDFF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">uname </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> uname</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> getUage</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">()</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> uage</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> setUage</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#BABED8;--shiki-dark-font-style:italic;"> uage</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#89DDFF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">uage </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> uage</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">}</span></span></code></pre><div class="collapsed-lines"></div></div><h3 id="_3-创建映射文件-usermapper-xml" tabindex="-1"><a class="header-anchor" href="#_3-创建映射文件-usermapper-xml"><span>3. 创建映射文件 UserMapper.xml</span></a></h3><p>在项目的 <code>src/main/resources</code> 目录下创建一个 <code>mapper</code> 文件夹，在 <code>mapper</code> 文件夹下创建映射文件 <code>UserMapper.xml</code>，该文件主要用于配置 SQL 语句和 Java 对象之间的映射，使 SQL 语句查询出来的数据能够被封装成 Java 对象。一个项目中可以有多个映射文件，每个实体类都可以有其对应的映射文件。映射文件通常使用 POJO 实体类名 + Mapper 命名。例如，User 实体类的映射文件名称就为 <code>UserMapper.xml</code>。<code>UserMapper.xml</code> 的实现具体如文件1-4所示。</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/2447732/1766040948247-cd360d33-08a3-4d76-8ee9-e9b9e026a6c5.png" alt=""></p><p><strong>文件1-4 UserMapper.xml</strong></p><div class="language-xml has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="xml" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">UTF-8</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">DOCTYPE</span><span style="--shiki-light:#005CC5;--shiki-dark:#BABED8;"> mapper</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">&lt;!--mapper为映射的根节点，namespace 指定DAO接口的完整类名--&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">&lt;!--mybatis 会依据这个接口动态创建一个实现类去实现这个接口，而这个实现类是一个 Mapper 对象--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">mapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">io.weew12.github.pojo.User</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    &lt;!--id=&quot;接口中的方法名&quot;--&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    &lt;!--parameterType=&quot;传入的参数类型&quot;--&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    &lt;!--resultType=&quot;返回实体类对象，使用包.类名--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">select</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">findById</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> parameterType</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">int</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> resultType</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">io.weew12.github.pojo.User</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">        select *</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">        from heima_ssm_book.ch1_users</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">        where uid = #{id}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span></code></pre><div class="collapsed-lines"></div></div><p>在文件1-4中：</p><ul><li>第 2~4 行代码是映射文件的约束信息；</li><li>根元素 <code>&lt;mapper&gt;</code>，元素中可包含用于增删改查操作的 <code>&lt;select&gt;</code>、<code>&lt;insert&gt;</code>、<code>&lt;update&gt;</code> 和 <code>&lt;delete&gt;</code> 等元素。元素中的 <code>namespace</code> 属性用于标识映射文件，<code>namespace</code> 属性的值通常设置为对应实体类的全限定类名；</li><li>第 13～16 行代码为查询语句块，用于 SQL 查询语句模板的编写。需要注意的是，元素中的 <code>id</code> 属性用于唯一标识该 SQL 语句块，Java 代码通过 <code>id</code> 属性的值找到对应的 SQL 语句块。</li></ul><h3 id="_4-修改-mybatis-config-xml-配置文件" tabindex="-1"><a class="header-anchor" href="#_4-修改-mybatis-config-xml-配置文件"><span>4. 修改 mybatis-config.xml 配置文件</span></a></h3><p>在 <code>mybatis-config.xml</code> 配置文件中添加 <code>UserMapper.xml</code> 映射文件路径的配置，用于将 <code>UserMapper.xml</code> 映射文件加载到程序中。具体代码如下：</p><div class="language-xml has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="xml" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">UTF-8</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">DOCTYPE</span><span style="--shiki-light:#005CC5;--shiki-dark:#BABED8;"> configuration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &quot;https://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    &lt;!--    加载类路径下的属性文件--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">properties</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> resource</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">db.properties</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    &lt;!--    环境配置--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">environments</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">development</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">environment</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">development</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">            &lt;!--            事务管理器--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">transactionManager</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">JDBC</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">            &lt;!--            数据源配置--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dataSource</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">POOLED</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">                &lt;!--                数据库连接相关配置 使用db.properties中的内容--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">driver</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">\${mysql.driver}</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">url</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">\${mysql.url}</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">username</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">\${mysql.username}</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">property</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">password</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">\${mysql.password}</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">            &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">dataSource</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">environment</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">environments</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">    &lt;!--    mapping 文件路径配置--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">mappers</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">mapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#C792EA;"> resource</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">mapper/UserMapper.xml</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">mappers</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#F07178;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span></span></code></pre><div class="collapsed-lines"></div></div><p>上述代码中，<code>&lt;mapper&gt;</code> 元素指定了 <code>UserMapper.xml</code> 映射文件的路径。</p><blockquote><p>注意：</p><p>如果一个项目有多个映射文件，则需要在 <code>mybatis-config.xml</code> 核心配置文件中的 <code>&lt;mappers&gt;</code> 元素下配置多个 <code>&lt;mapper&gt;</code> 元素指定映射文件的路径。</p></blockquote><h3 id="_5-编写测试类" tabindex="-1"><a class="header-anchor" href="#_5-编写测试类"><span>5. 编写测试类</span></a></h3><p>在项目的 <code>src/test/java</code> 目录下创建 <code>Test</code> 包。在 <code>Test</code> 包下创建 <code>UserTest</code> 类，该类主要用于程序测试，如文件1-5所示。</p><p><strong>文件1-5 UserTest.java</strong></p><div class="language-java has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="java" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#babed8;--shiki-light-bg:#fff;--shiki-dark-bg:#0F111A;"><pre class="shiki shiki-themes github-light material-theme-ocean vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> io</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">weew12</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">github</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> io</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">weew12</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">github</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">pojo</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> org</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">apache</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">ibatis</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">io</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Resources</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> org</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">apache</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">ibatis</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">SqlSession</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> org</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">apache</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">ibatis</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">SqlSessionFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> org</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">apache</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">ibatis</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">SqlSessionFactoryBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> org</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">junit</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Test</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> java</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">io</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">IOException</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> java</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">io</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Reader</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;"> UserTest</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Test</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> userFindByIdTest</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">()</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">        String</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> resources </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">mybatis-config.xml</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">        // 获取文件流</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">        Reader</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#89DDFF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">            // 读取mybatis-config.xml</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">            reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> Resources</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">getResourceAsReader</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">resources</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        }</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;"> catch</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">IOException</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#BABED8;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">            e</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">        // 初始化mybatis数据库 创建sqlSessionFactory 实例</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">        SqlSessionFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> sqlSessionFactory </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> SqlSessionFactoryBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">reader</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">        // 获取sqlSession实例</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">        SqlSession</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> sqlSession </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> sqlSessionFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">openSession</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">        // 传递参数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">        User</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;"> sqlSession</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">selectOne</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">findById</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">        // 输出结果</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">        System</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">out</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">getUname</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">());</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#464B5D;--shiki-dark-font-style:italic;">        // 关闭session</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BABED8;">        sqlSession</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">}</span></span></code></pre><div class="collapsed-lines"></div></div><p>在文件1-5中：</p><ul><li>读取 <code>mybatis-config.xml</code> 文件内容到 reader 对象中；</li><li>创建 <code>SqlSessionFactory</code> 类的实例，并通过 <code>SqlSessionFactory</code> 类的实例创建 <code>SqlSession</code> 实例；</li><li>调用 <code>selectOne()</code> 方法，查询 id 为 1 的用户信息，并将查询结果返回给 User 对象。</li></ul><p>文件1-5 的运行结果如图1-5所示：</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/2447732/1766042200951-d0eec870-48bc-4d57-bed1-94453c61a2b2.png" alt=""></p><h2 id="_1-5-mybatis-工作原理" tabindex="-1"><a class="header-anchor" href="#_1-5-mybatis-工作原理"><span>1.5 MyBatis 工作原理</span></a></h2><p>在学习了 MyBatis 环境搭建和入门程序的编写之后，可结合 1.4 节 MyBatis 入门程序，对 MyBatis 操作数据库的流程进行分析，如图1-6所示。</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/2447732/1766045437529-8efbc305-d64a-40ce-b373-bb664cdab01d.png" alt=""></p><p>在图1-6中，MyBatis 操作数据库的流程分为 8 个步骤，具体介绍如下：</p><ol><li><strong>MyBatis 读取核心配置文件 mybatis-config.xml</strong><br><code>mybatis-config.xml</code> 核心配置文件主要配置了 MyBatis 的运行环境等信息。</li><li><strong>加载映射文件 Mapper.xml</strong><br><code>Mapper.xml</code> 文件即 SQL 映射文件，该文件配置了操作数据库的 SQL 语句，需要在 <code>mybatis-config.xml</code> 中加载才能执行。<code>mybatis-config.xml</code> 可以加载多个映射文件，每个映射文件对应数据库中的一张表。</li><li><strong>构造会话工厂</strong><br> 通过 MyBatis 的环境等配置信息构建会话工厂 <code>SqlSessionFactory</code>，用于创建 <code>SqlSession</code>。</li><li><strong>创建会话对象</strong><br> 由会话工厂 <code>SqlSessionFactory</code> 创建 <code>SqlSession</code> 对象，该对象中包含了执行 SQL 语句的所有方法。</li><li><strong>创建执行器</strong><br> 会话对象本身不能直接操作数据库，MyBatis 底层定义了一个 Executor 接口用于操作数据库，执行器会根据 <code>SqlSession</code> 传递的参数动态地生成需要执行的 SQL 语句，同时负责查询缓存的维护。</li><li><strong>封装 SQL 信息</strong><br><code>SqlSession</code> 内部通过执行器 <code>Executor</code> 操作数据库，执行器将待处理的 SQL 信息封装到 <code>MappedStatement</code> 对象中，<code>MappedStatement</code> 对象中存储了要映射的 SQL 语句的 id、参数等。<code>Mapper.xml</code> 文件中一个 SQL 语句对应一个 <code>MappedStatement</code> 对象，SQL 语句的 id 即是 <code>MappedStatement</code> 的 id。Executor 执行器会在执行 SQL 语句之前，通过 <code>MappedStatement</code> 对象将输入的参数映射到 SQL 语句中。</li><li><strong>操作数据库</strong><br> 根据动态生成的 SQL 操作数据库。</li><li><strong>输出结果映射</strong><br> 执行 SQL 语句之后，通过 <code>MappedStatement</code> 对象将输出结果映射至 Java 对象中。</li></ol><p>通过对 MyBatis 框架工作原理的讲解，相信读者对 MyBatis 框架已经有了一个初步的了解。对于初学者来说，上面所讲解的内容可能无法完全理解，现阶段也不要求读者能完全理解。这里讲解 MyBatis 框架的工作原理是为了方便后续的学习，读者能够了解 MyBatis 的工作原理和执行流程即可。</p><h2 id="_1-6-小结" tabindex="-1"><a class="header-anchor" href="#_1-6-小结"><span>1.6 小结</span></a></h2><p>本章介绍了MyBatis框架，包括其概念、优点及与主流JavaEE框架的对比。通过分析传统JDBC的不足，引出了MyBatis，并详细讲解了它的环境搭建、基础使用和工作原理。学完本章后，读者将能够理解MyBatis的作用及其工作方式，并能独立完成环境配置和初步编程。</p><h3 id="【思考题】" tabindex="-1"><a class="header-anchor" href="#【思考题】"><span>【思考题】</span></a></h3><ol><li><strong>请简述什么是 MyBatis。</strong></li></ol><p>MyBatis 是一个优秀的持久层框架，它支持定制化SQL、存储过程以及高级映射。MyBatis避免了几乎所有的JDBC代码和手动设置参数以及获取结果集的过程。MyBatis 可以使用简单的 XML 或注解来配置和映射原生信息，将接口和 Java 的 POJOs（Plain Old Java Objects）映射成数据库中的记录。它的主要优点包括：易于上手、灵活性高、性能优秀等。</p><ol start="2"><li><strong>请简要介绍 MyBatis 的工作原理。</strong></li></ol><p>MyBatis 的工作流程主要包括以下几个步骤：</p><ul><li><strong>配置解析</strong>：首先，MyBatis 在启动时会读取配置文件（通常是 mybatis-config.xml），这个文件包含了数据库连接信息、环境配置、映射文件路径等关键信息。此外，还会加载 SQL 映射文件，这些文件定义了如何将 Java 对象与数据库表进行映射。</li><li><strong>创建会话工厂</strong>：基于配置文件的信息，MyBatis 创建一个 SqlSessionFactory 对象。SqlSessionFactory 是线程安全的，并且在整个应用程序中只需要创建一次。</li><li><strong>打开会话</strong>：通过 SqlSessionFactory 可以打开一个或多个 SqlSession 实例。SqlSession 提供了执行命令所需的所有方法，如查询、插入、更新、删除等操作。每个线程都应该有自己的 SqlSession 实例。</li><li><strong>执行 SQL 语句</strong>：在 SqlSession 中，可以调用特定的方法来执行已定义好的 SQL 语句。MyBatis 支持两种方式来定义 SQL 语句：XML 配置文件或者注解。当执行 SQL 时，MyBatis 会根据传入的参数动态生成最终的 SQL 语句，并通过 JDBC 执行。</li><li><strong>处理结果</strong>：执行完 SQL 后，MyBatis 会自动处理返回的结果集，将其转换为 Java 对象。如果需要的话，还可以利用 MyBatis 强大的映射功能实现复杂的数据结构转化。</li><li><strong>关闭会话</strong>：最后，在完成所有数据库操作后，应该关闭 SqlSession 来释放资源。如果不关闭，可能会导致数据库连接池耗尽的问题。<br> 以上就是关于 MyBatis 简介及其工作原理的基本概述。希望这能帮助你更好地理解这一强大的 ORM 工具是如何工作的。</li></ul>`,109)])])}const e=i(t,[["render",l]]),r=JSON.parse('{"path":"/framework/heima_ssm_book/e39prk2l/","title":"1 初识MyBatis框架","lang":"zh-CN","frontmatter":{"title":"1 初识MyBatis框架","createTime":"2025/12/18 16:34:01","permalink":"/framework/heima_ssm_book/e39prk2l/","description":"学习目标 了解框架的概念和优点 了解 MyBatis 框架的概念和优点 掌握 MyBatis 环境搭建 掌握 MyBatis 入门程序的编写 熟悉 MyBatis 工作原理 随着业务发展，软件系统变得越来越复杂。如果所有功能都从零开始开发，会非常耗时且繁琐。此外，缺乏统一的调用规范会导致代码重复，增加二次开发和维护的难度。为解决这些问题，框架应运而生。...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"1 初识MyBatis框架\\",\\"image\\":[\\"https://cdn.nlark.com/yuque/0/2025/png/2447732/1766045281064-41b0271c-caea-486d-a6ff-6350af127939.png\\",\\"https://cdn.nlark.com/yuque/0/2025/png/2447732/1766038799970-6af5cce8-a150-47da-96d7-c9475813faa2.png\\",\\"https://cdn.nlark.com/yuque/0/2025/png/2447732/1766038880594-c02e0a9e-aeac-4faa-a501-b1a3adaf8efb.png\\",\\"https://cdn.nlark.com/yuque/0/2025/png/2447732/1766039408644-9dd8575d-3497-4b11-b712-72e38552824f.png\\",\\"https://cdn.nlark.com/yuque/0/2025/png/2447732/1766039548197-2ce0026b-d302-4fd0-b29c-3b2741946fd0.png\\",\\"https://cdn.nlark.com/yuque/0/2025/png/2447732/1766040948247-cd360d33-08a3-4d76-8ee9-e9b9e026a6c5.png\\",\\"https://cdn.nlark.com/yuque/0/2025/png/2447732/1766042200951-d0eec870-48bc-4d57-bed1-94453c61a2b2.png\\",\\"https://cdn.nlark.com/yuque/0/2025/png/2447732/1766045437529-8efbc305-d64a-40ce-b373-bb664cdab01d.png\\"],\\"dateModified\\":\\"2025-12-21T08:50:44.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://weew12.github.io/framework/heima_ssm_book/e39prk2l/"}],["meta",{"property":"og:site_name","content":"WEEW12 BLOG"}],["meta",{"property":"og:title","content":"1 初识MyBatis框架"}],["meta",{"property":"og:description","content":"学习目标 了解框架的概念和优点 了解 MyBatis 框架的概念和优点 掌握 MyBatis 环境搭建 掌握 MyBatis 入门程序的编写 熟悉 MyBatis 工作原理 随着业务发展，软件系统变得越来越复杂。如果所有功能都从零开始开发，会非常耗时且繁琐。此外，缺乏统一的调用规范会导致代码重复，增加二次开发和维护的难度。为解决这些问题，框架应运而生。..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.nlark.com/yuque/0/2025/png/2447732/1766045281064-41b0271c-caea-486d-a6ff-6350af127939.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-21T08:50:44.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-21T08:50:44.000Z"}]]},"readingTime":{"minutes":19.79,"words":5936},"git":{"createdTime":1766047238000,"updatedTime":1766307044000,"contributors":[{"name":"weew12","username":"weew12","email":"2528566339@qq.com","commits":3,"avatar":"https://avatars.githubusercontent.com/weew12?v=4","url":"https://github.com/weew12"}]},"autoDesc":true,"filePathRelative":"notes/backend/framework/heima_ssm_book/1.初识MyBatis框架.md","headers":[]}');export{e as comp,r as data};
